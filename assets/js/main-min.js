let cookcodesmenu_init=0;function initCookCodesMenu(){if(document.body.clientWidth<=991){let e=$("head link#energy-wc-cookcodesmenu-css"),t=$("#site_logotype_carbon").val(),o=$("#site_logotype_2_carbon").val();hidden_home_url=$("#hidden_home_url").val(),1==++cookcodesmenu_init&&$.getScript(hidden_home_url+"/wp-content/themes/energy-wc/assets/js/plugins/cookcodesmenu/jquery.cookcodesmenu.js",function(){if(0==e.length){let e=document.createElement("link");e.id="energy-wc-cookcodesmenu-css",e.rel="stylesheet",e.type="text/css",e.href=hidden_home_url+"/wp-content/themes/energy-wc/assets/css/plugins/cookcodesmenu/cookcodesmenu.min.css",document.head.appendChild(e)}$("#cookmenu #menu-fixed-menu-1").cookcodesmenu({brand:'<div class="logotype _position header__logotype"><a class="custom-logo-link" href="'+hidden_home_url+'" rel="home" itemprop="url"><img class="custom-logo _2" src="'+o+'" alt="Энергия" itemprop="logo"><img class="custom-logo _1" src="'+t+'" alt=""></a></div>',label:""}),0==$(".navbar-nav").hasClass("menuHidden")&&$(".navbar-nav #menu-fixed-menu-1").addClass("menuHidden")}),setTimeout(function(){$(".cookcodesmenu-bar").fadeTo(500,1),$(".sticky-row").fadeTo(500,1)},1e3)}}initCookCodesMenu();var count=0;function searchAnimation(){let e=$("input#hidden_directory_url").val();if(document.body.clientWidth>991)0==$(".search-form-wrap").find(".search-form").length&&($(".search-form-wrap").prepend($(".search-form")),$(".cookcodesmenu_brand").siblings(".form-mobile").remove());else if(document.body.clientWidth>576&&document.body.clientWidth<=991.98){if(0==$(".cookcodesmenu_brand").siblings(".form-mobile").length){function t(t){$(".cookcodesmenu_brand").after($(".search-form")),$(".cookcodesmenu_menu .search-form").wrap('<div class="form-mobile d-sm-flex"></div>'),$(".cookcodesmenu_menu .form-mobile").append('\t\t\t\t\t<button class="switch-icon">\t\t\t\t\t\t<img class="icon-search" src="'+e+'/assets/images/icons8-search-50.png" alt=""/>\t\t\t\t\t\t<img class="icon-delete" src="'+e+'/assets/images/icons8-delete-24.png " alt=""/>\t\t\t\t\t</button>\t\t\t\t'),$(".sticky-row.__mobile .switch-icon").click(function(){$(this).toggleClass("__active"),$(this).siblings(".search-form").find("form").toggleClass("__active")})}1==++count?$(document).arrive(".cookcodesmenu_brand",function(){t()}):t()}}else if(0==$(".cookcodesmenu_nav").find(".search-form").length){function o(e){$(".cookcodesmenu_nav").prepend($(".search-form")),$(".cookcodesmenu_brand").siblings(".form-mobile").remove()}1==++count?$(document).arrive(".cookcodesmenu_brand",function(){o()}):o()}}function setAttrDownloadToContent(){let e=[".pdf",".doc",".docx",".txt"],t=$(".content-block a");for(let o=0;o<t.length;o++){let n=t[o];const a=t[o].getAttribute("href");for(let t=0;t<e.length;t++){const o=e[t];-1!=a.indexOf(o)&&n.setAttribute("download","download")}}}function wrapGalleryImageSinglePage(){$(".woocommerce-page.single-product").length>0&&($(".product > .row > .col-12").prepend('<div class="product-wrapper row"></div>'),$(".product > .row > .col-12").prepend($(".product_title")),$(".summary").wrap('<div class="col-sm-6 col-lg-5 summary-wrap"></div>'),$(".product-wrapper").append($(".summary-wrap")),$(".product-wrapper").append('<div class="woocommerce-description col-sm-6 col-lg-7"></div>'),$(".woocommerce-description").append($(".product-excerpt-wrap")),$(".woocommerce-description .product-excerpt-wrap").append($("#product_excerpt")),$(".woocommerce-description").append('<div class="cart-wrap"></div>'),$(".woocommerce-description .cart-wrap").append($(".cart")),$(".woocommerce-description .cart-wrap").append('<button class="vkenergy_button _gray type="button" data-toggle="modal" data-target=".modal-manager-1"">Получить консультацию</button>'),$(".related.products > h2").remove())}function addEventCheckbox(){$(".checkbox .wpcf7-list-item-label").unbind("click").click(function(e){$(this).parent("label").toggleClass("active"),$(this).parent("label").parent(".wpcf7-list-item").parent(".wpcf7-acceptance").parent(".wpcf7-form-control-wrap").parent(".checkbox").parent(".wpcf7-form").find(".wpcf7-submit").parent(".class").toggleClass("_not-disabled")})}function addMaskToFormInput(){$(".phone-mask").mask("+7 (000) 000-00-00",{placeholder:"+7 (XXX) XXX-XX-XX"}),$(".email-mask").mask("A",{translation:{A:{pattern:/[\w@\-.+]/,recursive:!0}}})}function setFileBtn(){var e=$(".blockPage").length>0,t=$(".modal").length>0;if(e)var o=$(".blockPage .wpcf7-file");else if(t)o=$(".modal .wpcf7-file");var n=o.parent(".wpcf7-form-control-wrap");if(n.addClass("file_upload"),0==n.find(".btn-label-text").length&&n.prepend('<div class="btn-label-text"></div>'),0==n.find("button").length&&n.prepend('<button type="button">Прикрепить файл</button>'),n.find('input[type="file"]'),o.mouseover(function(){l.css("border-bottom","1px dashed rgba(26, 58, 146, 255)")}),o.mouseout(function(){l.css("border-bottom","1px dashed #fafafa")}),e)var a=$(".blockPage .file_upload");else if(t)a=$(".modal .file_upload");var i=a.find("input"),c=a.find("button"),r=a.find("div");c.focus(function(){i.focus()}),i.focus(function(){a.addClass("focus")}).blur(function(){a.removeClass("focus")});var s=!!(window.File&&window.FileReader&&window.FileList&&window.Blob);i.off().change(function(){var e;(e=s&&i[0].files[0]?i[0].files[0].name:i.val().replace("C:\\fakepath\\","")).length&&(r.is(":visible")?(r.text(e),c.text("Прикрепить файл")):c.text(e))}).change(),$(window).resize(function(){e?$(".blockPage .file_upload input").triggerHandler("change"):t&&$(".modal .file_upload input").triggerHandler("change")});var l=n.find("button"),d=l.text(),u=n.find(".btn-label-text");u.text();-1==d.indexOf("Прикрепить файл")&&(u.text(d),l.text("Прикрепить файл"))}function eventClickResetForm(){$('button[data-toggle="modal"]').click(function(){$(".modal form").trigger("reset"),$(".modal form .file_upload .btn-label-text").text(""),$(".modal form .file_upload button").text("Прикрепить файл"),$('.modal form input[type="submit"]').prop("disabled",!0),$(".checkbox label").removeClass("active")})}function isVisible(e){if($("#map").length>0){var t=$(e),o=$(window),n=o.scrollTop(),a=t.offset().top;return a+t.height()<=n+o.height()&&a>=n}}function setHeaderFixedAnimate(){$(window).scroll(function(){let e=$(".header-wrapper .sticky-row"),t=e.find(".logotype"),o=e.find(".menu-top"),n=o.find(".menu-item"),a=e.find(".navbar-toggler"),i=e.find(".form-mobile"),c=e.find(".cookcodesmenu_btn"),r=n.find("a");$(document).scrollTop()>0?0==t.hasClass("mode__fixed-row")&&(t.addClass("mode__fixed-row"),o.addClass("mode__fixed-row"),a.addClass("mode__fixed-row"),i.addClass("mode__fixed-row"),n.addClass("mode__fixed-row"),r.addClass("mode__fixed-row"),c.addClass("mode__fixed-row")):1==t.hasClass("mode__fixed-row")&&(t.removeClass("mode__fixed-row"),o.removeClass("mode__fixed-row"),a.removeClass("mode__fixed-row"),i.removeClass("mode__fixed-row"),n.removeClass("mode__fixed-row"),r.removeClass("mode__fixed-row"),c.removeClass("mode__fixed-row"),document.body.clientWidth<=782&&$("#wpadminbar").length>0&&e.css("top","46px"))})}function setTopMenuWhenAdmin(){$(document).ready(function(){function e(){$(document).scrollTop()>0&&document.body.clientWidth<=600&&$("#wpadminbar").length>0?$(".sticky-row").css("top","0"):$(document).scrollTop()>0&&document.body.clientWidth>600&&document.body.clientWidth<=782&&$("#wpadminbar").length>0?$(".sticky-row").css("top","46px"):0==$(document).scrollTop()&&document.body.clientWidth<=782&&$("#wpadminbar").length>0?$(".sticky-row").css("top","46px"):document.body.clientWidth>783&&$("#wpadminbar").length>0&&$(".sticky-row").css("top","32px")}e(),$(window).scroll(function(){e()})})}function setPaddingRightTopMenuWhenModalOn(){}function setMarkupCatWrapProduct(){$(".catalog-wrapper .products .product").length>0&&!$(".catalog-wrapper .products .product").hasClass("product-category")?($(".catalog-wrapper").prepend($(".page-title")),$(".catalog-wrapper").addClass("__reverse-subcat")):$("body.term-katalog-produkcii").length>0?$(".woocommerce-products-header__title").remove():($(".catalog-wrapper").prepend($(".page-title")),$(".catalog-wrapper").addClass("__reverse-cat"))}function setActiveMenuItem(){$(".kama_breadcrumbs span");let e,t=$(".kama_breadcrumbs > span:not(.kb_sep)"),o=$(".menu-top .menu a");t.each(function(t,o){1==t&&(e=$(o).text())}),o.each(function(t,o){e==$(o).text()?$(o).css("text-decoration","underline"):"Специальные акции"==e&&"Акции"==$(o).text()?$(o).css("text-decoration","underline"):"Примеры наших работ"==e&&"Примеры работ"==$(o).text()&&$(o).css("text-decoration","underline")})}function setProductPage(){if($("body.single-product").length>0){let e=$(".product.type-product").attr("id");$(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").find("a").attr("data-fancybox","gallery"+e);let t=$("#product-tab-price-link").attr("href");null!=t&&$(".woocommerce-tabs ul.tabs").append('<a id="download-price-list" href="'+t+'" download>Скачать прайс-лист</a>'),$("#awooc-custom-order-button").addClass("vkenergy_button _reverse")}}function setFormOrder(){$(".awooc-form-custom-order").hasClass("awooc-hide")}function loadYmaps(){ymaps.ready(function(){var e,t=new ymaps.Map("map",{center:[0,0],zoom:900}),o=$("#address").html().replace("<br>",","),n={City:""},a=$("#address");for(var i in n)ymaps.geocode(o,{results:1}).then(function(o){e=o.geoObjects.get(0).geometry.getCoordinates(),n.City=e,n.City,$("#address").bind("click",function(){return t.panTo(e,{flying:!0}),!1}).end().appendTo(a),ymaps.geocode(n.City,{results:1}).then(function(e){var o=e.geoObjects.get(0),n=o.properties.get("boundedBy");t.geoObjects.add(o),t.setBounds(n,{checkZoomRange:!0})})})})}function set_ajax_form_cf7_hidden_inputs(){let e=$(".modal.show");switch(1){case $(".modal.show").length:e=$(".modal.show");break;case $(".blockUI.blockPage").length:e=$(".blockUI.blockPage")}$("#hidden_wp_title"),$("#hidden_wp_url_title");let t=e.find('input[name="post_title"]'),o=e.find('input[name="post_url"]');t.val(document.title),o.val(document.location.href)}function setPaginateText(){$("body.tax-product_cat").length>0&&($(".woocommerce-pagination a.next").text(" Следующая "),$(".woocommerce-pagination a.prev").text(" Предыдущая "))}function setLightboxSingleProduct(){document.body.clientWidth>=992&&($(document).arrive(".fancybox-container",function(e){$(this).find(".fancybox-slide--current"),$(".sticky-row").css("padding-right","18px")}),$(document).leave(".fancybox-container",function(){$(this).find(".fancybox-slide--current"),$(".sticky-row").css("padding-right","0")}))}function wrapProductCategoryBlock(){$("body.archive.tax-product_cat").length>0&&$(".product-category.product").each(function(e,t){$(t).find("img").wrap('<span class="product-category-img-wrap"></span>')})}function setDataSrc(){$(document).ready(function(){$("img[data-src]").each(function(e,t){let o=$(this).attr("data-src").trim();$(this).attr("src",o),$(this).removeAttr("data-src")})})}searchAnimation(),$(window).resize(function(){initCookCodesMenu(),searchAnimation()}),$(document).ready(function(){$('a[href="tel:+"]').each(function(e,t){var o=$(t).html().replace(/\D+/g,"");$(this).attr("href","tel:+"+o)}),$('a[href="mailto:"]').each(function(e,t){var o=$(t).html();$(this).attr("href","mailto:"+o)})}),$(document).ready(function(){$(".archive-wrapper._row-primery-nashih-rabot article .row").each(function(e,t){e%2!=0&&$(t).css({"flex-direction":"row-reverse"})})}),$(document).ready(function(){$(".images-previews-block a").click(function(e){e.preventDefault();var t=$(this).attr("href");$(this).parent(".images-previews-block").parent(".images-previews").find("a").removeClass("selected"),$(this).addClass("selected");var o=$(this).parent(".images-previews-block").parent(".images-previews").siblings(".images-full").find("img");o.hide(),o.attr("src",t),o.fadeIn()})}),$(document).ready(function(){}),wrapGalleryImageSinglePage(),$(document).arrive(".wpcf7",function(){$(this);setFileBtn(),addMaskToFormInput(),addEventCheckbox(),$(".wpcf7-submit").parent("p").addClass("class form-submit-wrapeer _not-disabled")}),$(document).arrive(".blockPage",function(){$(".blockPage .awooc-custom-order-wrap").prepend($(".blockPage .awwoc-close"))}),eventClickResetForm(),$(function(){$("#map").length>0&&($(".page-template-page-contacts").length>0?($.getScript("//api-maps.yandex.ru/2.1/?lang=ru_RU"),setTimeout(function(){loadYmaps()},1e3)):$(window).scroll(function(){var e=$("#map");!e.prop("shown")&&isVisible(e)&&(e.prop("shown",!0),$.getScript("//api-maps.yandex.ru/2.1/?lang=ru_RU"),setTimeout(function(){loadYmaps()},1e3))}))}),setHeaderFixedAnimate(),setTopMenuWhenAdmin(),$(window).resize(function(){setTopMenuWhenAdmin()}),setPaddingRightTopMenuWhenModalOn(),setMarkupCatWrapProduct(),setActiveMenuItem(),setProductPage(),setFormOrder(),$(document).ready(function(){}),$(document).ready(function(){if(0!=$(".page-template-page-certificates").length)if(0!=$(".reviews-wrapper").length)$("#countReviewBlocks").val()==$(".reviews-wrapper .review-col").length&&$("#btnmore_ajax").hide();else if(0!=$(".certificates-wrapper").length){$("#countSertificateBlocks").val()==$(".certificates-wrapper .certificate-col").length&&$("#btnmore_ajax").hide()}}),jQuery(document).ready(function(e){e("#myModalLabel2").find("button[data-name=continue-btn]").click(function(){e(this).siblings("input[name=url_current_page]").val();e("#myModalLabel2").modal("hide")})}),jQuery(function(e){var t=e("#myModalLabel2"),o=t.find("input[name=new_scrollTop_page]").val(),n=t.find("button[data-name=continue-btn]");if(t.find(".modal-body").find(".title_product").text().length>1){e(document).scrollTop(o),t.modal("show");var a=n.siblings("input[name=url_current_page]").val();history.replaceState(null,document.title,"//"+a)}}),setPaginateText(),setLightboxSingleProduct(),wrapProductCategoryBlock(),setDataSrc();let home_url_2=$("input#hidden_home_url").val().trim(),directory_url="wp-content/themes/energy-wc/";function isVisibleSlickSlider(e){var t=$(e),o=$(window).scrollTop(),n=t.offset().top;t.height();return n>=o}let slick_visible=0,slick_block=$(".__slick-slider");function ajax_slick_slider(){if(slick_block.length>0&&!slick_block.prop("shown")&&isVisibleSlickSlider(slick_block)){if(slick_block.prop("shown",!0),0==$("head link#slick_style").length){var e=document.createElement("link");e.id="slick_style",e.rel="stylesheet",e.type="text/css",e.href=home_url_2+"/"+directory_url+"assets/css/plugins/slick/slick.min.css",document.head.appendChild(e),console.log("slick style init")}++slick_visible&&($.getScript(home_url_2+"/"+directory_url+"assets/js/plugins/slick/slick.min.js",function(){slick_block.slick({arrows:!1,autoplay:!0,dots:!0}),setTimeout(function(){slick_block.fadeTo(500,1)},1e3)}),console.log("slick script init"))}}ajax_slick_slider(),$(window).scroll(function(){ajax_slick_slider()});let fancybox_visible=0,fancybox_block=$("a[data-fancybox]");function ajax_fancybox(){if(fancybox_block.length>0&&!fancybox_block.prop("shown")&&isVisibleSlickSlider(fancybox_block)){if(fancybox_block.prop("shown",!0),0==$("head link#fancybox_style").length){var e=document.createElement("link");e.id="fancybox_style",e.rel="stylesheet",e.type="text/css",e.href=home_url_2+"/"+directory_url+"assets/css/plugins/fancybox/jquery.fancybox.min.css",document.head.appendChild(e),console.log("fancybox style init")}1==++fancybox_visible&&$.getScript(home_url_2+"/"+directory_url+"assets/js/plugins/fancybox/jquery.fancybox.min.js",function(){fancybox_block.fancybox(),console.log("fancybox script init")})}}function loadYmaps(){ymaps.ready(function(){var e,t=new ymaps.Map("map",{center:[0,0],zoom:900}),o=$("#address").html().replace("<br>",","),n={City:""},a=$("#address");for(var i in n)ymaps.geocode(o,{results:1}).then(function(o){e=o.geoObjects.get(0).geometry.getCoordinates(),n.City=e,n.City,$("#address").bind("click",function(){return t.panTo(e,{flying:!0}),!1}).end().appendTo(a),ymaps.geocode(n.City,{results:1}).then(function(e){var o=e.geoObjects.get(0),n=o.properties.get("boundedBy");t.geoObjects.add(o),t.setBounds(n,{checkZoomRange:!0})})})})}ajax_fancybox(),$(window).scroll(function(){ajax_fancybox()}),$(document).ready(function(){if(0!=$(".page-template-page-certificates").length)if(0!=$(".reviews-wrapper").length)$("#countReviewBlocks").val()==$(".reviews-wrapper .review-col").length&&$("#btnmore_ajax").hide();else if(0!=$(".certificates-wrapper").length){$("#countSertificateBlocks").val()==$(".certificates-wrapper .certificate-col").length&&$("#btnmore_ajax").hide()}}),jQuery(document).ready(function(e){e("#myModalLabel2").find("button[data-name=continue-btn]").click(function(){e(this).siblings("input[name=url_current_page]").val();e("#myModalLabel2").modal("hide")})}),jQuery(function(e){var t=e("#myModalLabel2"),o=t.find("input[name=new_scrollTop_page]").val(),n=t.find("button[data-name=continue-btn]");if(t.find(".modal-body").find(".title_product").text().length>1){e(document).scrollTop(o),t.modal("show");var a=n.siblings("input[name=url_current_page]").val();history.replaceState(null,document.title,"//"+a)}});function hrefStyleList() {	$('a[href$=".pdf"]').each(function(i,e) {		$(e).parent('li').parent('ul').css('list-style', 'none');$(e).parent('li').parent('ol').css('list-style', 'none');	});}hrefStyleList();